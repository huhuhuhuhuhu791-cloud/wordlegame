<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Game - Flask</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Wordle Game</h1>
        <div id="message" class="message" style="display:none;"></div>

        <div id="loginScreen" class="screen active">
            <h2>ƒêƒÉng nh·∫≠p</h2>
            <div class="form-group">
                <label>T√™n ƒëƒÉng nh·∫≠p:</label>
                <input type="text" id="loginUsername" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n" maxlength="20">
            </div>
            <div class="form-group">
                <label>M·∫≠t kh·∫©u:</label>
                <input type="password" id="loginPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" maxlength="20">
            </div>
            <div class="btn-group">
                <button onclick="login()" class="btn-primary">ƒêƒÉng nh·∫≠p</button>
                <button onclick="showScreen('registerScreen')" class="btn-secondary">ƒêƒÉng k√Ω</button>
            </div>
        </div>

 
        <div id="registerScreen" class="screen">
            <h2>ƒêƒÉng k√Ω t√†i kho·∫£n</h2>
            <div class="form-group">
                <label>T√™n ƒëƒÉng nh·∫≠p:</label>
                <input type="text" id="regUsername" placeholder="T·∫°o t√™n ƒëƒÉng nh·∫≠p" maxlength="20">
            </div>
            <div class="form-group">
                <label>M·∫≠t kh·∫©u:</label>
                <input type="password" id="regPassword" placeholder="T·∫°o m·∫≠t kh·∫©u" maxlength="20">
            </div>
            <div class="form-group">
                <label>X√°c nh·∫≠n m·∫≠t kh·∫©u:</label>
                <input type="password" id="regPasswordConfirm" placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u" maxlength="20">
            </div>
            <div class="btn-group">
                <button onclick="register()" class="btn-primary">T·∫°o t√†i kho·∫£n</button>
                <button onclick="showScreen('loginScreen')" class="btn-secondary">Quay l·∫°i</button>
            </div>
        </div>

        <div id="menuScreen" class="screen">
            <h2>Ch√†o m·ª´ng, <span id="playerName"></span>!</h2>
            <div class="menu-buttons">
                <button onclick="showNewGameOptions()" class="btn-primary">Game m·ªõi</button>
                <button onclick="resumeGame()" class="btn-warning" id="resumeBtn" style="display: none;">Ti·∫øp t·ª•c game</button>
                <button onclick="loadLeaderboard()" class="btn-secondary">Top 20</button>
                <button onclick="loadHistory()" class="btn-secondary"> L·ªãch s·ª≠</button>
                <button onclick="logout()" class="btn-danger">ƒêƒÉng xu·∫•t</button>
                <button onclick="showScreen('settingsScreen')" class="btn-secondary">C√†i ƒë·∫∑t</button>
            </div>
        </div>

        <div id="settingsScreen" class="screen">
            <h2>‚öôÔ∏è C√†i ƒë·∫∑t Game</h2>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="unlimitedPlay" onchange="toggleUnlimited()"> 
                    Cho ph√©p ch∆°i v√¥ h·∫°n
                </label>
            </div>
            
            <div id="limitSettings" style="display:none;">
                <div class="form-group">
                    <label>S·ªë l∆∞·ª£t ch∆°i t·ªëi ƒëa:</label>
                    <input type="number" id="maxPlays" value="1" min="1" max="10">
                </div>
                
                <div class="form-group">
                    <label>Ch·∫ø ƒë·ªô reset:</label>
                    <select id="resetMode" onchange="toggleResetOptions()">
                        <option value="daily">Reset l√∫c 0:00 h√†ng ng√†y</option>
                        <option value="interval">Reset sau kho·∫£ng th·ªùi gian</option>
                        <option value="never">Kh√¥ng reset</option>
                    </select>
                </div>
                
                <div class="form-group" id="intervalSetting" style="display:none;">
                    <label>Reset sau (ph√∫t):</label>
                    <input type="number" id="resetInterval" value="10" min="1" max="1440">
                </div>
            </div>
            
            <div class="btn-group">
                <button onclick="saveSettings()" class="btn-primary">L∆∞u</button>
                <button onclick="showScreen('menuScreen')" class="btn-secondary">Quay l·∫°i</button>
            </div>
</div>

        <div id="newGameScreen" class="screen">
            <h2>C√†i ƒë·∫∑t game m·ªõi</h2>
            <div class="form-group">
                <label>Ch·∫ø ƒë·ªô ch∆°i:</label>
                <select id="gameMode">
                    <option value="english">üá¨üáß Ti·∫øng Anh</option>
                    <option value="vietnamese">üáªüá≥ Ti·∫øng Vi·ªát</option>
                    <option value="math">üî¢ To√°n h·ªçc</option>
                </select>
            </div>
            <div class="form-group">
                <label>S·ªë l∆∞·ª£t ƒëo√°n:</label>
                <select id="maxAttempts">
                    <option value="4">4 l∆∞·ª£t (Kh√≥)</option>
                    <option value="6" selected>6 l∆∞·ª£t (Chu·∫©n)</option>
                    <option value="8">8 l∆∞·ª£t (D·ªÖ)</option>
                </select>
            </div>
   
            <div class="btn-group">
                <button onclick="startNewGame()" class="btn-primary">B·∫Øt ƒë·∫ßu</button>
                <button onclick="showScreen('menuScreen')" class="btn-secondary">H·ªßy</button>
            </div>
        </div>

        <div id="gameScreen" class="screen" tabindex="0">
            <div class="game-header">
                <div class="stat">
                    <div class="stat-value" id="currentPlayer">Player</div>
                    <div class="stat-label">Ng∆∞·ªùi ch∆°i</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="attemptsDisplay">0/6</div>
                    <div class="stat-label">L∆∞·ª£t ƒëo√°n</div>
                </div>
                <div class="stat">
                    <div id="timeDisplay">0s</div>
                    <div class="stat-label">Th·ªùi gian</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="modeDisplay">üá¨üáß</div>
                    <div class="stat-label">Ch·∫ø ƒë·ªô</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="hintsDisplay"> 3</div>
                    <div class="stat-label">G·ª£i √Ω</div>
                </div>
            </div>

            <div id="gameBoard" class="game-board"></div>

            <div id="keyboard" class="keyboard">
                <div class="keyboard-row">
                    <button class="key" onclick="typeKey('Q')">Q</button>
                    <button class="key" onclick="typeKey('W')">W</button>
                    <button class="key" onclick="typeKey('E')">E</button>
                    <button class="key" onclick="typeKey('R')">R</button>
                    <button class="key" onclick="typeKey('T')">T</button>
                    <button class="key" onclick="typeKey('Y')">Y</button>
                    <button class="key" onclick="typeKey('U')">U</button>
                    <button class="key" onclick="typeKey('I')">I</button>
                    <button class="key" onclick="typeKey('O')">O</button>
                    <button class="key" onclick="typeKey('P')">P</button>
                </div>
                <div class="keyboard-row">
                    <button class="key" onclick="typeKey('A')">A</button>
                    <button class="key" onclick="typeKey('S')">S</button>
                    <button class="key" onclick="typeKey('D')">D</button>
                    <button class="key" onclick="typeKey('F')">F</button>
                    <button class="key" onclick="typeKey('G')">G</button>
                    <button class="key" onclick="typeKey('H')">H</button>
                    <button class="key" onclick="typeKey('J')">J</button>
                    <button class="key" onclick="typeKey('K')">K</button>
                    <button class="key" onclick="typeKey('L')">L</button>
                </div>
                <div class="keyboard-row">
                    <button class="key key-wide" onclick="submitGuess()">ENTER</button>
                    <button class="key" onclick="typeKey('Z')">Z</button>
                    <button class="key" onclick="typeKey('X')">X</button>
                    <button class="key" onclick="typeKey('C')">C</button>
                    <button class="key" onclick="typeKey('V')">V</button>
                    <button class="key" onclick="typeKey('B')">B</button>
                    <button class="key" onclick="typeKey('N')">N</button>
                    <button class="key" onclick="typeKey('M')">M</button>
                    <button class="key key-wide" onclick="deleteKey()">‚å´</button>
                </div>
            </div>
            <div id="mathKeyboard" class="keyboard" style="display:none;">
                <div class="keyboard-row">
                    <button class="key" onclick="typeKey('7')">7</button>
                    <button class="key" onclick="typeKey('8')">8</button>
                    <button class="key" onclick="typeKey('9')">9</button>
                    <button class="key key-op" onclick="typeKey('*')">√ó</button>
                </div>
                <div class="keyboard-row">
                    <button class="key" onclick="typeKey('4')">4</button>
                    <button class="key" onclick="typeKey('5')">5</button>
                    <button class="key" onclick="typeKey('6')">6</button>
                    <button class="key key-op" onclick="typeKey('/')">√∑</button>
                </div>
                <div class="keyboard-row">
                    <button class="key" onclick="typeKey('1')">1</button>
                    <button class="key" onclick="typeKey('2')">2</button>
                    <button class="key" onclick="typeKey('3')">3</button>
                    <button class="key key-op" onclick="typeKey('-')">‚àí</button>
                </div>
                <div class="keyboard-row">
                    <button class="key key-wide" onclick="typeKey('0')">0</button>
                    <button class="key key-op" onclick="typeKey('+')">+</button>
                    <button class="key key-op key-eq" onclick="typeKey('=')">Ôºù</button>
                    <button class="key key-wide" onclick="deleteKey()">‚å´</button>
                </div>
                <div class="keyboard-row">
                    <button class="key key-wide key-enter" onclick="submitGuess()">ENTER</button>
                </div>
            </div>

            <button onclick="toggleKeyboard()" class="btn-keyboard-toggle" id="keyboardToggle">
                 ·∫®n b√†n ph√≠m
            </button>

            <div class="btn-group" style="margin-top: 15px;">
                <button onclick="submitGuess()" class="btn-success">‚úì ƒêo√°n</button>
                <button onclick="getHint()" class="btn-warning" id="hintBtn"> G·ª£i √Ω</button>
                <button onclick="undoGuess()" class="btn-secondary" id="undoBtn"> Undo</button>
                <button onclick="redoGuess()" class="btn-secondary" id="redoBtn">Redo</button>
                <button onclick="backToMenu()" class="btn-danger">‚Üê Tho√°t</button>
            </div>
        </div>
        <div id="leaderboardModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Top 20 Players</h2>
                    <button onclick="closeModal('leaderboardModal')" class="btn-close">‚úï</button>
                </div>
                <div id="leaderboardList"></div>
            </div>
        </div>
        <div id="historyModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2> L·ªãch s·ª≠ ch∆°i</h2>
                    <button onclick="closeModal('historyModal')" class="btn-close">‚úï</button>
                </div>
                <div id="historyList"></div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='core.js') }}"></script>
    <script src="{{ url_for('static', filename='game.js') }}"></script>
    <script src="{{ url_for('static', filename='keyboard.js') }}"></script>
</body>
</html>